<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tucan Market</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header>
        <!-- Texto del título -->
        <div class="logo2">
            <img src="assets\logoTucan.PNG" alt="Logo">
            <h1>Tucan Market</h1>
        </div>
        <!-- Barra de estado de login -->
        <div id="login-status">
            <span id="user-greeting"></span>
            <button id="logout-btn" style="display: none;">Cerrar Sesión</button>
            <a href="login.html" id="login-link">Iniciar Sesión</a>
        </div>

        <div class="logo">
            <img src="https://iztapalapa3.tecnm.mx/departamentos/planeacion/comuydif/LOGO-VERTICAL.png" alt="Logo">
        </div>

        <!-- MENÚ HORIZONTAL -->
        <nav>
            <ul class="menu">
                <li><a href="index.html">🏠 Inicio</a></li>
                <li><a href="#">🔥 Tendencias</a></li>
                <li class="dropdown">
                    <a href="categorias.html">💸 Categorías</a>
                    <ul class="submenu">
                        <li><a href="ropa.html">Ropa</a></li>
                        <li><a href="tecnologia.html">Tecnología</a></li>
                        <li><a href="papeleria.html">Papelería</a></li>
                    </ul>
                </li>
                <li><a href="#">📌 Quiénes somos</a></li>
                <div class="cart-icon">
                    <a href="carrito.html" id="cart-link" style="background-color: blue; color: white; padding: 5px 10px; border: none; border-radius: 5px; cursor: pointer; margin-right: 10px; text-decoration: none;">
                        Ver Carrito
                    </a>
                    <a href="Checkout.html" style="background-color: green; color: white; padding: 5px 10px; border: none; border-radius: 5px; cursor: pointer;">
                        Ir a Checkout
                    </a>
                </div>
            </ul>
        </nav>
    </header>
    <main>
        <h2>Bienvenido a nuestra tienda</h2>

        <!-- Ropa -->
        <section id="ropa">
            <h3>Ropa</h3>
            <div class="productos">
                <div class="producto">
                    <img src="assets/playera.jpg" alt="Playera Tecnm">
                    <p>Playera Tecnm Classica</p>
                    <p>$349.99</p>
                    <button onclick="agregarAlCarrito('Playera Tecnm Classica', 349.99, 'assets/playera.jpg')">Agregar al carrito</button>
                </div>
                <div class="producto">
                    <img src="assets/gorra.jpg" alt="Gorra Yankees">
                    <p>Gorra Yankees Blanca Unitalla</p>
                    <p>$399.99</p>
                    <button onclick="agregarAlCarrito('Gorra Yankees Blanca Unitalla', 399.99, 'assets/gorra.jpg')">Agregar al carrito</button>
                </div>
                <div class="producto">
                    <img src="assets/calcetas.png" alt="Calcetas Tucan-Sport">
                    <p>Calcetas Tucan-Sport</p>
                    <p>$25.99</p>
                    <button onclick="agregarAlCarrito('Calcetas Tucan-Sport', 25.99, 'Assets/calcetas.jpg')">Agregar al carrito</button>
                </div>
                <div class="producto">
                    <img src="assets/tennis.jpg" alt="Tennis Nike Blazzer">
                    <p>Tennis Nike Blazzer Mid Talla 24</p>
                    <p>$899.99</p>
                    <button onclick="agregarAlCarrito('Tennis Nike Blazzer Mid Talla 24', 899.99, 'assets/tennis.jpg')">Agregar al carrito</button>
                </div>
            </div>
            <button class="ver-mas-btn" onclick="window.location.href='ropa.html'">Ver más</button>
        </section>

        <!-- Tecnología -->
        <section id="tecnologia">
            <h3>Tecnología</h3>
            <div class="productos">
                <div class="producto">
                    <img src="Assets/audi.png" alt="Audífonos Sky">
                    <p>Audífonos inalambricos Sky</p>
                    <p>$499.99</p>
                    <button onclick="agregarAlCarrito('Audífonos inalambricos Sky', 499.99, 'Assets/audi.png')">Agregar al carrito</button>
                </div>
                <div class="producto">
                    <img src="Assets/reloj.jpg" alt="Reloj Smart Watch">
                    <p>Reloj Smart Watch Oiris</p>
                    <p>$899.99</p>
                    <button onclick="agregarAlCarrito('Reloj Smart Watch Oiris', 899.99, 'Assets/reloj.jpg')">Agregar al carrito</button>
                </div>
                <div class="producto">
                    <img src="Assets/mause.png" alt="Mouse RGB Gamer">
                    <p>Mouse RGB Gamer Gryffin negro</p>
                    <p>$199.00</p>
                    <button onclick="agregarAlCarrito('Mouse RGB Gamer Gryffin negro', 199.00, 'Assets/mause.png')">Agregar al carrito</button>
                </div>
                <div class="producto">
                    <img src="Assets/contro.jpg" alt="Control PS5">
                    <p>Control PS5 Morado</p>
                    <p>$800.00</p>
                    <button onclick="agregarAlCarrito('Control PS5 Morado', 800.00, 'Assets/contro.jpg')">Agregar al carrito</button>
                </div>
            </div>
            <button class="ver-mas-btn" onclick="window.location.href='tecnologia.html'">Ver más</button>
        </section>

        <!-- Papelería -->
        <section id="papeleria">
            <h3>Papelería</h3>
            <div class="productos">
                <div class="producto">
                    <img src="Assets/pegamentot.jpg" alt="Pegamento Pritt">
                    <p>Pegamento Pritt Chico</p>
                    <p>$25.99</p>
                    <button onclick="agregarAlCarrito('Pegamento Pritt Chico', 25.99, 'Assets/pegamentot.jpg')">Agregar al carrito</button>
                </div>
                <div class="producto">
                    <img src="Assets/tijera.png" alt="Tijera Old School">
                    <p>Tijera Old School</p>
                    <p>$15.00</p>
                    <button onclick="agregarAlCarrito('Tijera Old School', 15.00, 'Assets/tijera.png')">Agregar al carrito</button>
                </div>
                <div class="producto">
                    <img src="Assets/libreta.jpg" alt="Libreta Professional">
                    <p>Libreta Professional 100 hojas Cuadros Grandes</p>
                    <p>$12.00</p>
                    <button onclick="agregarAlCarrito('Libreta Professional 100 hojas Cuadros Grandes', 12.00, 'Assets/libreta.jpg')">Agregar al carrito</button>
                </div>
                <div class="producto">
                    <img src="Assets/lapiceros.jpg" alt="Lapiceros Scribe">
                    <p>Paquete lapiceros 4 piezas C/ Lápiz Scribe</p>
                    <p>$19.99</p>
                    <button onclick="agregarAlCarrito('Paquete lapiceros 4 piezas C/ Lápiz Scribe', 19.99, 'Assets/lapiceros.jpg')">Agregar al carrito</button>
                </div>
            </div>
            <button class="ver-mas-btn" onclick="window.location.href='papeleria.html'">Ver más</button>
        </section>
    </main>
    
    <script src="script.js"></script>

    <script>
        // Función para agregar productos al carrito
        function agregarAlCarrito(nombre, precio, imagen) {
            // Obtener el carrito actual del localStorage o inicializarlo vacío
            let carrito = JSON.parse(localStorage.getItem('carrito')) || [];

            // Buscar si el producto ya está en el carrito
            const productoExistente = carrito.find(producto => producto.nombre === nombre);

            if (productoExistente) {
                // Incrementar la cantidad si ya existe
                productoExistente.cantidad += 1;
            } else {
                // Agregar un nuevo producto al carrito
                carrito.push({ nombre, precio, imagen, cantidad: 1 });
            }

            // Guardar el carrito actualizado en localStorage
            localStorage.setItem('carrito', JSON.stringify(carrito));

            // Notificar al usuario
            alert(`Producto agregado al carrito: ${nombre}\nPrecio: $${precio}`);
        }
    </script>

    <script>

        // Notificar al usuario
        function notificarUsuario(nombre, precio) {
            alert(`Producto agregado al carrito: ${nombre}\nPrecio: $${precio}`);
        }

        // Sistema de autenticación
        document.addEventListener('DOMContentLoaded', function() {
            const usuarioLogueado = JSON.parse(localStorage.getItem('usuarioLogueado'));
            const loginLink = document.getElementById('login-link');
            const logoutBtn = document.getElementById('logout-btn');
            const userGreeting = document.getElementById('user-greeting');

            if(usuarioLogueado) {
                // Usuario logueado
                userGreeting.textContent = `Bienvenido, ${usuarioLogueado.nombre || usuarioLogueado.usuario}`;
                logoutBtn.style.display = 'inline-block';
                loginLink.style.display = 'none';
            } else {
                // Usuario no logueado
                userGreeting.textContent = '';
                logoutBtn.style.display = 'none';
                loginLink.style.display = 'inline-block';
            }

            // Manejar logout
            logoutBtn.addEventListener('click', function() {
                localStorage.removeItem('usuarioLogueado');
                window.location.reload();
            });
        });

        // Función para ver más productos
        function verMas(categoria) {
            alert(`Ver más productos de la categoría: ${categoria}`);
            // Aquí deberías implementar la lógica real para cargar más productos
        }
    </script>
</body>
</html>
